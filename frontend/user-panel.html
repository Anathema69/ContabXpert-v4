<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <title>Panel de Usuario</title>
    <link rel="stylesheet" href="styles/user-panel.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
</head>
<body>
<div class="user-container">
    <!-- Barra lateral -->
    <aside class="user-sidebar">
        <h2>Panel de Usuario</h2>
        <nav>
            <ul>
                <li>
                    <button class="active" id="btnDatos">
                        <img src="icon/panel_new_user.png" alt="Datos complementarios" class="sidebar-icon" />
                        Datos complementarios
                    </button>
                </li>
                <li>
                    <button id="btnOperaciones">
                        <img src="icon/panel_download.png" alt="Registrar operaciones" class="sidebar-icon" />
                        Registrar operaciones
                    </button>
                </li>
                <li>
                    <button onclick="window.location.href='user-history-operations.html'">
                        <img src="icon/history-icon.png" alt="Historial" class="sidebar-icon">
                        Historial operaciones
                    </button>
                </li>
            </ul>
        </nav>
    </aside>

    <!-- Contenido principal -->
    <main class="user-content">
        <header class="user-header">
            <h1 id="userName"></h1>
            <button class="btn-logout" id="logoutBtn">Cerrar sesión</button>
        </header>

        <section class="user-section">
            <h2>Datos Complementarios</h2>
            <form class="user-form" id="datosForm">
                <!-- Nombre completo -->
                <div class="input-group">
                    <label for="fullName">Nombre completo</label>
                    <input type="text" id="fullName" placeholder="Ej. Juan Perez" required>
                </div>
                <!-- Código de país + número de teléfono -->
                <div class="phone-row">
                    <div class="input-group phone-code">
                        <label for="countryCode">Código de país</label>
                        <div class="country-code-wrapper">
                            <div class="flag-container" id="flagContainer">
                                <img id="countryFlag" src="icon/flags/co.png" alt="Flag">
                            </div>
                            <select id="countryCode">
                                <option value="+57" data-flag="co.png" selected>+57 (CO)</option>
                                <option value="+51" data-flag="pe.png">+51 (PE)</option>
                                <option value="+52" data-flag="mx.png">+52 (MX)</option>
                                <option value="+1" data-flag="us.png">+1 (US)</option>
                                <option value="+34" data-flag="es.png">+34 (ES)</option>
                            </select>
                        </div>
                    </div>
                    <div class="input-group phone-number">
                        <label for="phoneNumber">Número de teléfono</label>
                        <input type="text" id="phoneNumber" placeholder="900100200" required>
                    </div>
                </div>
                <!-- Nuevo: Tipo de documento (desplegable angosto) y Número -->
                <div class="input-group" style="display:flex; gap:10px; align-items: center;">
                    <div style="flex:0 0 35%;">
                        <label for="docType" style="font-size:0.9em;">Tipo de Documento</label>
                        <select id="docType" required style="width:100%; font-size:0.9em;">
                            <option value="">Seleccione...</option>
                            <option value="DNI">DNI</option>
                            <option value="CE">Cédula Extranjera</option>
                            <option value="PASAPORTE">Pasaporte</option>
                        </select>
                    </div>
                    <div style="flex:1;">
                        <label for="docNumber" style="font-size:0.9em;">Número de Documento</label>
                        <input type="text" id="docNumber" placeholder="Ej. 12345678A" required style="width:100%; font-size:0.9em;">
                    </div>
                </div>
                <!-- Nuevo: Dirección con ícono -->
                <div class="input-group icon-group">
                    <label for="direccion">Dirección</label>
                    <span class="icon">
                        <img src="icon/icon-maps.png" alt="Icono Dirección">
                    </span>
                    <input type="text" id="direccion" placeholder="Dirección" required>
                </div>

                <button type="submit" class="btn-primary">Actualizar datos</button>
            </form>
        </section>
    </main>
</div>

<!-- Overlay de carga -->
<div id="loadingOverlay" class="loading-overlay" style="display: none;">
    <div class="spinner"></div>
    <p>Actualizando datos...</p>
</div>

<!-- Toast para notificaciones -->
<div id="toast" class="toast" style="display: none;"></div>

<script src="js/user-panel.js"></script>
</body>
</html>
